{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector(\".js-gallery\");\n\n// console.log(fetch(\"https://pixabay.com/api/?key=48343538-15a5755b500219024f825f792\"));\n\nconst createGalleryCardTemplate = imgInfo => {\n    return `<li class=\"gallery-card\">\n                <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" width=\"${imgInfo.webformatWidth=360}\" height=\"${imgInfo.webformatHeight=180}\">\n            </li>`\n};\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n    \n    const searchQuery = event.currentTarget.elements.user_query.value.trim();\n\n    if (searchQuery === \"\") {\n        alert(\"The field is empty\");\n        return;\n    }\n    console.log(searchQuery);\n\n    fetch(`https://pixabay.com/api/?key=48343538-15a5755b500219024f825f792&q=${searchQuery}&image_type=photo`).then(response => {\n    if (!response.ok) {\n        throw new Error(response.status);\n    };\n\n    return response.json();\n    }).then(data => {\n        if (data.total === 0) {\n            alert('The image behind this keyword is unknown');\n\n            galleryEl.innerHTML = \"\";\n\n            searchFormEl.reset();\n\n            return;\n        }\n\n        galleryEl.innerHTML = data.hits.map(el => createGalleryCardTemplate(el)).join(\"\");\n\n    console.log(data);\n}).catch(err => {\n    if (err.message === \"404\") {\n        alert('error');\n    }\n    \n});\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\n// inputEl.addEventListener('focus', () => {\n//     inputEl.setAttribute('placeholder', 'hous|');\n// });\n\n// inputEl.addEventListener('blur', () => {\n//     inputEl.setAttribute('placeholder', 'Search images...');\n// })"],"names":["searchFormEl","galleryEl","createGalleryCardTemplate","imgInfo","onSearchFormSubmit","event","searchQuery","response","data","el","err"],"mappings":"0uBAIA,MAAMA,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAIhDC,EAA4BC,GACvB;AAAA,gDACqCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI,YAAYA,EAAQ,eAAe,GAAG,aAAaA,EAAQ,gBAAgB,GAAG;AAAA,mBAIlKC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,WAAW,MAAM,OAElE,GAAIC,IAAgB,GAAI,CACpB,MAAM,oBAAoB,EAC1B,MACH,CACD,QAAQ,IAAIA,CAAW,EAEvB,MAAM,qEAAqEA,CAAW,mBAAmB,EAAE,KAAKC,GAAY,CAC5H,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACpB,CAAK,EAAE,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CAClB,MAAM,0CAA0C,EAEhDP,EAAU,UAAY,GAEtBD,EAAa,MAAK,EAElB,MACH,CAEDC,EAAU,UAAYO,EAAK,KAAK,IAAIC,GAAMP,EAA0BO,CAAE,CAAC,EAAE,KAAK,EAAE,EAEpF,QAAQ,IAAID,CAAI,CACpB,CAAC,EAAE,MAAME,GAAO,CACRA,EAAI,UAAY,OAChB,MAAM,OAAO,CAGrB,CAAC,CACD,EAEAV,EAAa,iBAAiB,SAAUI,CAAkB"}